(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{299:function(t){t.exports=[{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_fulfillmentId",type:"uint256"},{name:"_percentage",type:"uint256"}],name:"acceptFulfillmentPartial",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"},{name:"_index",type:"uint256"}],name:"getRoyaltyOwner",outputs:[{name:"",type:"address"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyIds",type:"uint256[]"},{name:"_values",type:"uint256[]"},{name:"_payees",type:"address[]"}],name:"distributeRoyaltyFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getBountyToken",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_data",type:"string"}],name:"fulfillBounty",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getNumBounties",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"}],name:"distributeRoyaltyFundsSimple",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_fulfillmentId",type:"uint256"},{name:"_data",type:"string"}],name:"updateFulfillment",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_newFulfillmentAmount",type:"uint256"},{name:"_value",type:"uint256"}],name:"increasePayout",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_newFulfillmentAmount",type:"uint256"}],name:"changeBountyFulfillmentAmount",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_newOwner",type:"address"},{name:"_weight",type:"uint256"}],name:"addRoyaltyBeneficiary",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_user",type:"address"}],name:"getUserStats",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_value",type:"uint256"}],name:"activateBounty",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_issuer",type:"address"},{name:"_deadline",type:"uint256"},{name:"_data",type:"string"},{name:"_fulfillmentAmount",type:"uint256"},{name:"_arbiter",type:"address"},{name:"_paysTokens",type:"bool"},{name:"_tokenContract",type:"address"}],name:"issueBounty",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getBountyArbiter",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_value",type:"uint256"}],name:"contribute",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getRoyaltyDailyDistribution",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"},{name:"_index",type:"uint256"}],name:"getRoyaltyOwnerCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getBountyData",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_forwardingAddress",type:"address"}],name:"setRoyaltiesForwardingAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"},{name:"_fulfillmentId",type:"uint256"}],name:"getFulfillment",outputs:[{name:"",type:"bool"},{name:"",type:"address"},{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_value",type:"uint256"}],name:"fundRoyalty",outputs:[{name:"",type:"bool"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getRoyaltyFinances",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getRoyaltyOwners",outputs:[{name:"",type:"address[]"},{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_newArbiter",type:"address"}],name:"changeBountyArbiter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"bounties",outputs:[{name:"issuer",type:"address"},{name:"deadline",type:"uint256"},{name:"data",type:"string"},{name:"fulfillmentAmount",type:"uint256"},{name:"fulfillmentDistributed",type:"uint256"},{name:"arbiter",type:"address"},{name:"paysTokens",type:"bool"},{name:"bountyStage",type:"uint8"},{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getBounty",outputs:[{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bool"},{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_bountyId",type:"uint256"},{name:"_newData",type:"string"}],name:"changeBountyData",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_bountyId",type:"uint256"}],name:"getNumFulfillments",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_owner",type:"address"},{name:"_tokenAddress",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"}],name:"BountyIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"},{indexed:!1,name:"issuer",type:"address"}],name:"BountyActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"},{indexed:!0,name:"fulfiller",type:"address"},{indexed:!0,name:"_fulfillmentId",type:"uint256"}],name:"BountyFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_bountyId",type:"uint256"},{indexed:!1,name:"_fulfillmentId",type:"uint256"}],name:"FulfillmentUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"},{indexed:!0,name:"fulfiller",type:"address"},{indexed:!0,name:"_fulfillmentId",type:"uint256"}],name:"FulfillmentAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"},{indexed:!0,name:"fulfiller",type:"address"},{indexed:!0,name:"_fulfillmentId",type:"uint256"},{indexed:!1,name:"_percentage",type:"uint256"}],name:"FulfillmentAcceptedPartial",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"},{indexed:!0,name:"issuer",type:"address"}],name:"BountyKilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"},{indexed:!0,name:"contributor",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"ContributionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"},{indexed:!1,name:"newDeadline",type:"uint256"}],name:"DeadlineExtended",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"bountyId",type:"uint256"}],name:"BountyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_bountyId",type:"uint256"},{indexed:!0,name:"_newIssuer",type:"address"}],name:"IssuerTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_bountyId",type:"uint256"},{indexed:!1,name:"_newFulfillmentAmount",type:"uint256"}],name:"PayoutIncreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"bountyId",type:"uint256"},{indexed:!0,name:"value",type:"uint256"}],name:"RoyaltyFunded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"bountyId",type:"uint256"}],name:"RoyaltyExhausted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"bountyId",type:"uint256"},{indexed:!0,name:"payee",type:"address"},{indexed:!0,name:"amount",type:"uint256"}],name:"PayoutGenerated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"bountyId",type:"uint256"},{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"weight",type:"uint256"}],name:"OwnerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"bountyId",type:"uint256"},{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"beneficiary",type:"address"}],name:"ForwarderSet",type:"event"}]},300:function(t){t.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]},311:function(t,e,n){t.exports=n(710)},316:function(t,e,n){},320:function(t,e,n){},332:function(t,e){},334:function(t,e){},432:function(t,e){},513:function(t,e){},710:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(7),s=(n(316),n(8)),u=n.n(s),r=n(19),c=n(22),l=n(23),p=n(36),y=n(35),d=n(21),m=n(37),b=(n(320),n(297)),f=n.n(b),h=n(90),g=n.n(h),v=n(298),w=n(299),k=n(300),x=n(715),E=n(714),B=(n(134),n(44)),I=(n(106),n(39)),O=n(1),_=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(p.a)(this,Object(y.a)(e).call(this,t))).state={bountyId:O.any,fulfillmentId:O.any,percentage:O.any},n.acceptSubmission=n.acceptSubmission.bind(Object(d.a)(n)),n.distributePayouts=n.distributePayouts.bind(Object(d.a)(n)),n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"distributePayouts",value:function(){this.props.sendRoyaltyDistribution(),console.log("button clicked")}},{key:"acceptSubmission",value:function(){this.props.acceptFufillment(1,0,25),console.log("button clicked")}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(B.a,{title:"Admin Page",bordered:!1,style:{width:"100%"}},i.a.createElement("p",null,"Card content"),i.a.createElement(I.a,{onClick:this.distributePayouts},"Distribute Payouts"),i.a.createElement(I.a,{onClick:this.acceptSubmission},"Accept Submission")))}}]),e}(a.Component),C=(n(296),n(67)),j=n(88),M=n(713),P={type:"FeatureCollection",name:"AOI_EPSG4326",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{fid:1,name:"Garissa River Flood Basin",author:"0xE66317487077b5f5E107fe29d415DC4b347a2f38",totalPool:76e4,bountyPercent:25,royaltyPercent:75,dateCreated:"2019/02/15",bountyExpires:"2019/06/30",royaltyExpires:"2022/12/31",bountyRamp:"standard linear",royaltyRamp:"exponential decay",poolContract:"0xf57D1955e785973B71dD92136a902A1ef1687A31"},geometry:{type:"Polygon",coordinates:[[[39.52735627068391,-3.96088006201972],[39.59061838675076,-3.960553968637932],[39.59159666689612,-4.017946403832604],[39.67246782557953,-4.01859859059618],[39.7164904321209,-4.041751220703121],[39.6786635998335,-4.090013041207732],[39.52673145865054,-4.089194125162373],[39.52735627068391,-3.96088006201972]]]}},{type:"Feature",properties:{fid:2,name:"Northeast Airport Services Project",author:"0x3bf9DA4eaDFc08058C1c97F7Cae633dCd84df456",totalPool:125e3,bountyPercent:60,royaltyPercent:40,dateCreated:"2019/02/20",bountyExpires:"2019/03/31",royaltyExpires:"2019/05/15",bountyRamp:"flat",royaltyRamp:"flat",poolContract:"0x6b9EE0F490e839c3aC380bAd2fE987a048263e65"},geometry:{type:"Polygon",coordinates:[[[39.59452726955283,-4.015623990313648],[39.5943306261546,-4.045513786845011],[39.655486723004955,-4.045513786845011],[39.65371693242086,-4.014837416720717],[39.59452726955283,-4.015623990313648]]]}},{type:"Feature",properties:{fid:6,name:"Port Oil Spill Remediation",author:"0xE66317487077b5f5E107fe29d415DC4b347a2f38",totalPool:5e4,bountyPercent:90,royaltyPercent:10,dateCreated:"2018/02/19",bountyExpires:"2019/02/22",royaltyExpires:"2019/03/16",bountyRamp:"flat",royaltyRamp:"flat",poolContract:"0xd56dF3e437Cf54405c41e6501D77f95A1c9eA9B5"},geometry:{type:"Polygon",coordinates:[[[39.65811971678086,-4.038762813384774],[39.658449313498956,-4.038765689731757],[39.658778809818706,-4.038774317896544],[39.659108105372326,-4.03878869525091],[39.65943709985321,-4.038808817415377],[39.659765693046445,-4.038834678260535],[39.66009378485936,-4.038866269908922],[39.66042127535203,-4.038903582737417],[39.66074806476765,-4.038946605380169],[39.66107405356302,-4.038995324732066],[39.66139914243878,-4.03904972595272],[39.661723232369724,-4.039109792470992],[39.662046224634906,-4.039175505990039],[39.66236802084776,-4.039246846492888],[39.66268852298604,-4.039323792248529],[39.66300763342169,-4.03940631981854],[39.663325254950585,-4.039494404064223],[39.66364129082212,-4.039588018154266],[39.66395564476872,-4.039687133572907],[39.664268221035115,-4.039791720128632],[39.66457892440756,-4.039901745963361],[39.66488766024278,-4.040017177562159],[39.66519433449687,-4.040137979763445],[39.66549885375386,-4.040264115769696],[39.66580112525425,-4.040395547158663],[39.66610105692321,-4.040532233895073],[39.666398557398644,-4.040674134342821],[39.66669353605902,-4.040821205277656],[39.66698590305099,-4.040973401900345],[39.66727556931674,-4.041130677850325],[39.66756244662111,-4.041292985219818],[39.6678464475785,-4.041460274568425],[39.668127485679456,-4.041632494938191],[39.668405475317066,-4.041809593869123],[39.66868033181298,-4.04199151741517],[39.668951971443256,-4.042178210160659],[39.669220311463825,-4.04236961523717],[39.669485270135716,-4.042565674340865],[39.66974676674996,-4.042766327750238],[39.67000472165215,-4.04297151434432],[39.67025905626672,-4.043181171621284],[39.67050969312089,-4.043395235717494],[39.67075655586824,-4.043613641426953],[39.67099956931199,-4.043836322221165],[39.671238659427885,-4.044063210269404],[39.67147375338677,-4.044294236459372],[39.671704779576736,-4.044529330418253],[39.671931667624975,-4.044768420534152],[39.672154348419184,-4.0450114339779],[39.672372754128645,-4.045258296725251],[39.67258681822486,-4.045508933579419],[39.67279647550182,-4.045763268193991],[39.6730016620959,-4.046021223096179],[39.67320231550527,-4.046282719710423],[39.673398374608965,-4.046547678382318],[39.67358977968548,-4.046816018402887],[39.673776472430966,-4.047087658033161],[39.67395839597702,-4.047362514529077],[39.67413549490795,-4.047640504166683],[39.67430771527771,-4.047921542267644],[39.67447500462632,-4.04820554322503],[39.67463731199581,-4.048492420529399],[39.67479458794579,-4.048782086795146],[39.67494678456848,-4.049074453787119],[39.67509385550332,-4.0493694324475],[39.675235755951064,-4.049666932922934],[39.675372442687475,-4.04996686459189],[39.67550387407644,-4.05026913609228],[39.67563001008269,-4.050573655349275],[39.67575081228398,-4.050880329603359],[39.67586624388277,-4.051189065438585],[39.6759762697175,-4.051499768811025],[39.67608085627323,-4.051812345077423],[39.67617997169187,-4.05212669902402],[39.676273585781914,-4.05244273489556],[39.676361670027596,-4.052760356424452],[39.676444197597604,-4.053079466860104],[39.67652114335325,-4.053399968998384],[39.6765924838561,-4.053721765211238],[39.67665819737515,-4.05404475747642],[39.67671826389341,-4.05436884740736],[39.67677266511407,-4.054693936283123],[39.67682138446597,-4.05501992507849],[39.67686440710872,-4.055346714494115],[39.67690171993721,-4.055674204986776],[39.6769333115856,-4.056002296799696],[39.676959172430756,-4.056330889992933],[39.67697929459523,-4.056659884473815],[39.67699367194959,-4.056989180027437],[39.677002300114374,-4.057318676347183],[39.677005176461364,-4.057648273065282],[39.677002300114374,-4.057977869783381],[39.67699367194959,-4.058307366103127],[39.67697929459523,-4.058636661656749],[39.676959172430756,-4.058965656137631],[39.6769333115856,-4.059294249330867],[39.67690171993721,-4.059622341143788],[39.67686440710872,-4.059949831636449],[39.67682138446597,-4.060276621052074],[39.67677266511407,-4.06060260984744],[39.67671826389341,-4.060927698723203],[39.67665819737515,-4.061251788654143],[39.6765924838561,-4.061574780919326],[39.67652114335325,-4.061896577132179],[39.676444197597604,-4.06221707927046],[39.676361670027596,-4.062536189706112],[39.676273585781914,-4.062853811235004],[39.67617997169187,-4.063169847106543],[39.67608085627323,-4.06348420105314],[39.6759762697175,-4.063796777319538],[39.67586624388277,-4.064107480691979],[39.67575081228398,-4.064416216527205],[39.67563001008269,-4.064722890781289],[39.67550387407644,-4.065027410038284],[39.675372442687475,-4.065329681538674],[39.675235755951064,-4.065629613207631],[39.67509385550332,-4.065927113683063],[39.67494678456848,-4.066222092343445],[39.67479458794579,-4.066514459335418],[39.67463731199581,-4.066804125601164],[39.67447500462632,-4.067091002905534],[39.67430771527771,-4.06737500386292],[39.67413549490795,-4.067656041963881],[39.67395839597702,-4.067934031601487],[39.673776472430966,-4.068208888097403],[39.67358977968548,-4.068480527727677],[39.673398374608965,-4.068748867748246],[39.67320231550527,-4.069013826420141],[39.6730016620959,-4.069275323034384],[39.67279647550182,-4.069533277936572],[39.67258681822486,-4.069787612551145],[39.672372754128645,-4.070038249405313],[39.672154348419184,-4.070285112152663],[39.671931667624975,-4.070528125596412],[39.671704779576736,-4.07076721571231],[39.67147375338677,-4.071002309671192],[39.671238659427885,-4.07123333586116],[39.67099956931199,-4.071460223909399],[39.67075655586824,-4.071682904703611],[39.67050969312089,-4.07190131041307],[39.67025905626672,-4.07211537450928],[39.67000472165215,-4.072325031786245],[39.66974676674996,-4.072530218380326],[39.669485270135716,-4.072730871789699],[39.669220311463825,-4.072926930893393],[39.668951971443256,-4.073118335969904],[39.66868033181298,-4.073305028715394],[39.668405475317066,-4.073486952261441],[39.668127485679456,-4.073664051192373],[39.6678464475785,-4.073836271562139],[39.66756244662111,-4.074003560910746],[39.66727556931674,-4.074165868280239],[39.66698590305099,-4.074323144230219],[39.66669353605902,-4.074475340852908],[39.666398557398644,-4.074622411787743],[39.66610105692321,-4.074764312235491],[39.66580112525425,-4.0749009989719],[39.66549885375386,-4.075032430360868],[39.66519433449687,-4.075158566367119],[39.66488766024278,-4.075279368568404],[39.66457892440756,-4.075394800167203],[39.664268221035115,-4.075504826001932],[39.66395564476872,-4.075609412557657],[39.66364129082212,-4.075708527976298],[39.663325254950585,-4.07580214206634],[39.66300763342169,-4.075890226312024],[39.66268852298604,-4.075972753882035],[39.66236802084776,-4.076049699637676],[39.662046224634906,-4.076121040140524],[39.661723232369724,-4.076186753659572],[39.66139914243878,-4.076246820177844],[39.66107405356302,-4.076301221398498],[39.66074806476765,-4.076349940750394],[39.66042127535203,-4.076392963393147],[39.66009378485936,-4.076430276221641],[39.659765693046445,-4.076461867870028],[39.65943709985321,-4.076487728715187],[39.659108105372326,-4.076507850879653],[39.658778809818706,-4.07652222823402],[39.658449313498956,-4.076530856398807],[39.65811971678086,-4.07653373274579],[39.657790120062764,-4.076530856398807],[39.65746062374301,-4.07652222823402],[39.657131328189394,-4.076507850879653],[39.65680233370851,-4.076487728715187],[39.656473740515274,-4.076461867870028],[39.656145648702356,-4.076430276221641],[39.65581815820969,-4.076392963393147],[39.65549136879407,-4.076349940750394],[39.6551653799987,-4.076301221398498],[39.65484029112294,-4.076246820177844],[39.654516201191996,-4.076186753659572],[39.65419320892681,-4.076121040140524],[39.65387141271396,-4.076049699637676],[39.65355091057568,-4.075972753882035],[39.65323180014003,-4.075890226312024],[39.65291417861114,-4.07580214206634],[39.6525981427396,-4.075708527976298],[39.652283788793,-4.075609412557657],[39.651971212526604,-4.075504826001932],[39.65166050915416,-4.075394800167203],[39.651351773318936,-4.075279368568404],[39.65104509906485,-4.075158566367119],[39.65074057980786,-4.075032430360868],[39.65043830830747,-4.0749009989719],[39.65013837663851,-4.074764312235491],[39.649840876163076,-4.074622411787743],[39.6495458975027,-4.074475340852908],[39.64925353051073,-4.074323144230219],[39.648963864244976,-4.074165868280239],[39.64867698694061,-4.074003560910747],[39.64839298598322,-4.073836271562139],[39.64811194788226,-4.073664051192373],[39.647833958244654,-4.073486952261441],[39.64755910174874,-4.073305028715394],[39.64728746211846,-4.073118335969904],[39.647019122097895,-4.072926930893393],[39.646754163426,-4.072730871789699],[39.64649266681176,-4.072530218380326],[39.64623471190957,-4.072325031786245],[39.645980377295,-4.07211537450928],[39.64572974044083,-4.07190131041307],[39.64548287769348,-4.071682904703611],[39.64523986424973,-4.071460223909399],[39.645000774133834,-4.07123333586116],[39.64476568017495,-4.071002309671192],[39.644534653984984,-4.07076721571231],[39.644307765936745,-4.070528125596412],[39.644085085142535,-4.070285112152663],[39.643866679433074,-4.070038249405313],[39.64365261533686,-4.069787612551145],[39.6434429580599,-4.069533277936572],[39.64323777146582,-4.069275323034384],[39.64303711805645,-4.069013826420141],[39.642841058952754,-4.068748867748246],[39.64264965387624,-4.068480527727677],[39.642462961130754,-4.068208888097403],[39.6422810375847,-4.067934031601487],[39.64210393865377,-4.067656041963881],[39.641931718284006,-4.06737500386292],[39.641764428935396,-4.067091002905534],[39.64160212156591,-4.066804125601164],[39.64144484561593,-4.066514459335417],[39.641292648993236,-4.066222092343445],[39.6411455780584,-4.065927113683063],[39.641003677610655,-4.06562961320763],[39.640866990874244,-4.065329681538674],[39.64073555948528,-4.065027410038284],[39.64060942347903,-4.064722890781288],[39.64048862127774,-4.064416216527205],[39.64037318967895,-4.064107480691979],[39.64026316384422,-4.063796777319538],[39.64015857728849,-4.06348420105314],[39.640059461869846,-4.063169847106543],[39.639965847779806,-4.062853811235004],[39.63987776353412,-4.062536189706112],[39.639795235964115,-4.06221707927046],[39.63971829020847,-4.061896577132179],[39.63964694970562,-4.061574780919326],[39.63958123618657,-4.061251788654143],[39.639521169668306,-4.060927698723203],[39.63946676844765,-4.06060260984744],[39.63941804909575,-4.060276621052074],[39.639375026453,-4.059949831636449],[39.639337713624506,-4.059622341143788],[39.63930612197612,-4.059294249330867],[39.63928026113096,-4.058965656137631],[39.63926013896649,-4.058636661656749],[39.63924576161213,-4.058307366103127],[39.639237133447345,-4.057977869783381],[39.639234257100355,-4.057648273065282],[39.639237133447345,-4.057318676347183],[39.63924576161213,-4.056989180027437],[39.63926013896649,-4.056659884473815],[39.63928026113096,-4.056330889992933],[39.63930612197612,-4.056002296799696],[39.639337713624506,-4.055674204986776],[39.639375026453,-4.055346714494115],[39.63941804909575,-4.05501992507849],[39.63946676844765,-4.054693936283123],[39.639521169668306,-4.05436884740736],[39.63958123618657,-4.05404475747642],[39.63964694970562,-4.053721765211238],[39.63971829020847,-4.053399968998384],[39.639795235964115,-4.053079466860104],[39.63987776353412,-4.052760356424452],[39.639965847779806,-4.05244273489556],[39.640059461869846,-4.05212669902402],[39.64015857728849,-4.051812345077423],[39.64026316384422,-4.051499768811025],[39.64037318967895,-4.051189065438585],[39.64048862127774,-4.050880329603359],[39.64060942347903,-4.050573655349275],[39.64073555948528,-4.05026913609228],[39.640866990874244,-4.04996686459189],[39.641003677610655,-4.049666932922933],[39.6411455780584,-4.0493694324475],[39.641292648993236,-4.049074453787119],[39.64144484561593,-4.048782086795145],[39.64160212156591,-4.048492420529399],[39.641764428935396,-4.04820554322503],[39.641931718284006,-4.047921542267644],[39.64210393865377,-4.047640504166683],[39.6422810375847,-4.047362514529077],[39.642462961130754,-4.047087658033161],[39.64264965387624,-4.046816018402887],[39.642841058952754,-4.046547678382318],[39.64303711805645,-4.046282719710423],[39.64323777146582,-4.046021223096179],[39.6434429580599,-4.045763268193991],[39.64365261533686,-4.045508933579419],[39.643866679433074,-4.045258296725251],[39.644085085142535,-4.0450114339779],[39.644307765936745,-4.044768420534152],[39.644534653984984,-4.044529330418253],[39.64476568017495,-4.044294236459372],[39.645000774133834,-4.044063210269404],[39.64523986424973,-4.043836322221165],[39.64548287769348,-4.043613641426953],[39.64572974044083,-4.043395235717494],[39.645980377295,-4.043181171621284],[39.64623471190957,-4.042971514344319],[39.64649266681176,-4.042766327750238],[39.646754163426,-4.042565674340865],[39.647019122097895,-4.04236961523717],[39.64728746211846,-4.042178210160659],[39.64755910174874,-4.04199151741517],[39.647833958244654,-4.041809593869123],[39.64811194788226,-4.041632494938191],[39.64839298598322,-4.041460274568425],[39.64867698694061,-4.041292985219818],[39.648963864244976,-4.041130677850325],[39.64925353051073,-4.040973401900345],[39.6495458975027,-4.040821205277656],[39.649840876163076,-4.040674134342821],[39.65013837663851,-4.040532233895073],[39.65043830830747,-4.040395547158663],[39.65074057980786,-4.040264115769696],[39.65104509906485,-4.040137979763445],[39.651351773318936,-4.040017177562159],[39.65166050915416,-4.039901745963361],[39.651971212526604,-4.039791720128632],[39.652283788793,-4.039687133572907],[39.6525981427396,-4.039588018154266],[39.652914178611134,-4.039494404064223],[39.65323180014003,-4.03940631981854],[39.65355091057568,-4.039323792248529],[39.65387141271396,-4.039246846492888],[39.65419320892681,-4.039175505990039],[39.654516201191996,-4.039109792470992],[39.65484029112294,-4.03904972595272],[39.6551653799987,-4.038995324732066],[39.65549136879407,-4.038946605380169],[39.65581815820969,-4.038903582737417],[39.656145648702356,-4.038866269908922],[39.656473740515274,-4.038834678260535],[39.65680233370851,-4.038808817415377],[39.657131328189394,-4.03878869525091],[39.65746062374301,-4.038774317896544],[39.657790120062764,-4.038765689731757],[39.65811971678086,-4.038762813384774]]]}},{type:"Feature",properties:{fid:5,name:"South Kenya Master Project",author:"0x0F1b5da3e5AA1AC434A070f45fDF27bAa3981908",totalPool:5e6,bountyPercent:10,royaltyPercent:90,dateCreated:"2018/01/01",bountyExpires:"2020/10/01",royaltyExpires:"2023/08/31",bountyRamp:"exponential",royaltyRamp:"exponential",poolContract:"0x52151DDaDD02509a401792610e259F5dC463608E"},geometry:{type:"Polygon",coordinates:[[[39.18956270800679,-4.638589163659124],[39.18956270800679,-3.608004631635024],[39.8771857076362,-3.608004631635024],[39.8771857076362,-4.638589163659124],[39.18956270800679,-4.638589163659124]]]}}]},F=function(t){function e(){return Object(c.a)(this,e),Object(p.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"loadGeojson",value:function(t,e){var n=t.google;e.data.setStyle(function(){return{icon:{path:n.maps.SymbolPath.CIRCLE,fillColor:"#FF5E00",strokeColor:"#5e3509",strokeWeight:2},fillColor:"#FF5E00",fillOpacity:.6,strokeColor:"#5e3509",strokeWeight:2,scale:3}}),setTimeout(function(){return e.setZoom(7)},1600),setTimeout(function(){return e.setZoom(8)},2e3),setTimeout(function(){return e.setZoom(9)},2200),setTimeout(function(){return e.setZoom(10)},2400),setTimeout(function(){e.data.loadGeoJson("AOI_EPSG4326.json"),e.setZoom(11)},2600),setTimeout(function(){e.setZoom(13)},3100),setTimeout(function(){e.data.loadGeoJson("PointsClip_EPSG4326_Thin.json")},3300)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a,{title:"Bounty Areas",bordered:!1,style:{width:"100%"}},i.a.createElement(C.a,{size:"small",bordered:!1,dataSource:P.features,renderItem:function(t){return i.a.createElement(C.a.Item,null,i.a.createElement(M.a,{to:"/bounty/".concat(t.properties.fid)},t.properties.name))}})),i.a.createElement(j.Map,{google:this.props.google,zoom:4,initialCenter:{lat:-4.0385066,lng:39.649095},fullscreenControl:!1,streetViewControl:!1,onReady:this.loadGeojson}))}}]),e}(a.Component),S=String("AIzaSyCRQVQ9G8wLRHvbFWPASSOOJg11-9hqX5g"),A=Object(j.GoogleApiWrapper)({apiKey:S})(F),R=(n(698),n(307)),D=(n(295),n(13)),T=(n(289),n(142)),W=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(p.a)(this,Object(y.a)(e).call(this,t))).polyline=void 0,n.polygon=void 0,n.map=void 0,n.google=void 0,n.state=void 0,n.state={submitting:!1,showSuccessModal:!1},n.addLatLng=n.addLatLng.bind(Object(d.a)(n)),n.onMapReady=n.onMapReady.bind(Object(d.a)(n)),n.submitStructure=n.submitStructure.bind(Object(d.a)(n)),n.dismissSuccess=n.dismissSuccess.bind(Object(d.a)(n)),n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"onMapReady",value:function(t,e){setTimeout(function(){return e.setZoom(9)},1600),setTimeout(function(){return e.setZoom(11)},2e3),setTimeout(function(){return e.setZoom(12)},2200),setTimeout(function(){return e.setZoom(13)},2400),setTimeout(function(){return e.setZoom(14)},2600),setTimeout(function(){return e.setZoom(15)},2800),setTimeout(function(){return e.setZoom(16)},3e3),setTimeout(function(){return e.setZoom(17)},3200),setTimeout(function(){return e.setZoom(18)},3400);var n=t.google;this.google=n,this.map=e,this.polyline=new this.google.maps.Polyline({strokeColor:"#FF5E00",strokeOpacity:1,strokeWeight:3}),this.polyline.setMap(this.map),this.map.addListener("click",this.addLatLng)}},{key:"addLatLng",value:function(t){var e=this.polyline.getPath();e.push(t.latLng);for(var n=[],a=0;a<e.getLength();a++){var i=e.getAt(a),o=i.lat(),s=i.lng();o&&s&&n.push({lat:o,lng:s})}3===e.getLength()?(this.polygon=new this.google.maps.Polygon({paths:n,strokeColor:"#FF5E00",strokeOpacity:.8,strokeWeight:3,fillColor:"#FF0000",fillOpacity:.35,editable:!0}),this.polygon.setMap(this.map)):e.getLength()>=3&&this.polygon.setPath(n);new this.google.maps.Marker({position:t.latLng,map:this.map,draggable:!0,icon:{path:this.google.maps.SymbolPath.CIRCLE,fillColor:"#FF5E00",fillOpacity:.6,strokeColor:"#000000",strokeOpacity:.8,strokeWeight:2,scale:3}})}},{key:"submitStructure",value:function(){var t=this;this.setState(function(){return{submitting:!0}});for(var e={type:"FeatureCollection",features:[]},n={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}},a=0;a<this.polyline.getPath().getLength();a++){var i=this.polyline.getPath().getAt(a);n.geometry.coordinates.push([i.lng(),i.lat()])}e.features.push(n),this.map.data.addGeoJson(e),this.map.data.setStyle({fillColor:"#36db2e",strokeColor:"#3ae031",strokeWeight:4}),this.map.data.toGeoJson(function(){var e=Object(r.a)(u.a.mark(function e(n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("toGeoJson, about to submit: ",n),e.prev=1,e.next=4,t.props.inputComplete(n);case 4:console.log("input complete returned"),t.setState(function(){return{submitting:!1,showSuccessModal:!0}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("submit failed. e: ",e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}},{key:"dismissSuccess",value:function(){this.setState(function(){return{showSuccessModal:!1}})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{spinning:this.state.submitting,tip:"Storing your submission..."},i.a.createElement(B.a,{title:this.props.feature.properties.name,bordered:!1,style:{width:"100%"}},i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("span",{style:{fontWeight:500,fontSize:16}},"Objective: "),"Report areas with stagnant water"),i.a.createElement("p",null,i.a.createElement("span",{style:{fontWeight:500,fontSize:16}},"Reward: ")," Each submission earns $4"),i.a.createElement("p",null,i.a.createElement("span",{style:{fontWeight:500,fontSize:16}},"Timeframe: ")," Bounty expires on February 24th, 8:00am local time")))),i.a.createElement(j.Map,{google:this.props.google,zoom:7,initialCenter:{lat:-4.002427,lng:39.5580713},onReady:this.onMapReady,fullscreenControl:!1,streetViewControl:!1,gestureHandling:"greedy"}),i.a.createElement("div",{style:{position:"absolute",bottom:35,right:85}},i.a.createElement(I.a,{type:"primary",shape:"circle",size:"large",loading:this.state.submitting,onClick:this.submitStructure},i.a.createElement(D.a,{type:"cloud-upload"}))),i.a.createElement(R.a,{title:"Success!",visible:this.state.showSuccessModal,footer:[i.a.createElement(I.a,{key:"submit",type:"primary",onClick:this.dismissSuccess},"Done")]},i.a.createElement("p",null,"Your submission was accepted."),i.a.createElement("p",null,"It will be reviewed, check the ",i.a.createElement(M.a,{to:"/user"},"users page")," for updates."),i.a.createElement("p",null,"Thanks for contributing to Project Map.")))}}]),e}(a.Component),L=String("AIzaSyCRQVQ9G8wLRHvbFWPASSOOJg11-9hqX5g"),U=Object(j.GoogleApiWrapper)({apiKey:L})(W),G=function(t){return P.features.find(function(e){return e.properties.fid===Number(t)})},N=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(p.a)(this,Object(y.a)(e).call(this,t))).state=void 0,n.state={feature:G(t.match.params.id)},n.submitBounty=n.submitBounty.bind(Object(d.a)(n)),n.loadBountyInfo(),n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentWillMount",value:function(){var t=G(this.props.match.params.id);this.setState(function(){return{feature:t}})}},{key:"loadBountyInfo",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.getBounty(this.props.match.params.id);case 2:e=t.sent,this.setState({bounty:e});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"submitBounty",value:function(t){if(console.log("InputPage.submitBounty() geoData: ",t),this.props.submitBounty)return this.props.submitBounty(this.props.match.params.id,t)}},{key:"render",value:function(){return console.log("inputPage rendered for bountyId: ".concat(this.props.match.params.id)),this.state.feature?i.a.createElement(U,{inputComplete:this.submitBounty,feature:this.state.feature}):null}}]),e}(a.Component),Z=(n(703),n(308)),z=(n(706),n(305)),J=(n(290),n(66)),H=J.a.Option,V=B.a.Meta,$=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(p.a)(this,Object(y.a)(e).call(this,t))).state=void 0,n.state={loading:!0},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentWillMount",value:function(){var t=this;setTimeout(function(){t.setState(function(){return{loading:!1}})},800)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{type:"primary",onClick:this.props.kickoffBlocknative,style:{position:"absolute",top:48,right:48,zIndex:100}},"Set up Wallet & Withdrawal"),i.a.createElement(B.a,{style:{width:"100%",padding:12},actions:[i.a.createElement(D.a,{type:"setting"}),i.a.createElement(D.a,{type:"edit"}),i.a.createElement(D.a,{type:"ellipsis"})]},i.a.createElement(Z.a,{loading:this.state.loading,avatar:!0,active:!0},i.a.createElement(V,{avatar:i.a.createElement(z.a,{icon:"user",size:"large"}),title:"Total Earned: $4.32",description:"Joined 18 Hours ago"}),i.a.createElement("p",{style:{fontSize:24,color:"rgba(0, 0, 0, 0.85)",margin:24,fontWeight:500}},"Account Data"),i.a.createElement(B.a,{type:"inner",title:"Recent Activity",style:{margin:4}},i.a.createElement(C.a,{size:"small",bordered:!1,dataSource:[{name:"royalty 1",id:"0x82b387f7228d2c91abb50f15ab27c1c16566ff7cf51923cfb8f4fe2269e7046e"},{name:"submission accepted",id:"0x95f1c67f0252e61906b706de81fa0b8471af4ef7e9594ec32c8d02c0e074fa7b"},{name:"bounty submitted",id:"0x93aa586501a9c8de0ff83caf6f74828556f3036dfcc54d28b480a723f1bfc4f0"},{name:"account created",id:"0xe569ab943d21ffbacbe82e9986c6138ee41382dd7866f112299a4ce343962d44"}],renderItem:function(t){return i.a.createElement(C.a.Item,null,t.name," transaction:   ",i.a.createElement(M.a,{to:"/transaction/".concat(t.id)},t.id))}})),i.a.createElement(B.a,{type:"inner",title:"Stats",style:{margin:8}},i.a.createElement(C.a,{size:"small",bordered:!1,dataSource:["Submissions: 1","Accepted Submissions: 1","Rejected Submissions: 0","Submission earnings: $4.00","Royalty earnings: $0.32"],renderItem:function(t){return i.a.createElement(C.a.Item,null,t)}})),i.a.createElement(B.a,{type:"inner",title:"Causes",style:{margin:4},bodyStyle:{display:"flex",justifyContent:"space-between"}},i.a.createElement(J.a,{defaultValue:"unicef",style:{width:160}},i.a.createElement(H,{value:"unicef"},"UNICEF"),i.a.createElement(H,{value:"worldbank"},"World Bank"),i.a.createElement(H,{value:"ethereumfoundation"},"Ethereum Foundation")),i.a.createElement(I.a,{type:"primary"},"Set Royalty Recipient")))))}}]),e}(a.Component),K=function(t){function e(t){return Object(c.a)(this,e),Object(p.a)(this,Object(y.a)(e).call(this,t))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"landing-page"},i.a.createElement(x.a,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{exact:!0,path:"/",component:A}),i.a.createElement(E.a,{path:"/bounty/:id",render:function(e){return i.a.createElement(N,{web3:t.props.web3,match:e.match,submitBounty:t.props.submitBounty,getBounty:t.props.getBounty})}}),i.a.createElement(E.a,{path:"/admin",render:function(e){return i.a.createElement(_,{web3:t.props.web3,sendRoyaltyDistribution:t.props.sendRoyaltyDistribution,getUserPastEvents:t.props.getUserPastEvents,getBounties:t.props.getBounties,acceptFufillment:t.props.acceptFufillment})}}),i.a.createElement(E.a,{path:"/user",render:function(e){return i.a.createElement($,{web3:t.props.web3,getUserPastEvents:t.props.getUserPastEvents,kickoffBlocknative:t.props.kickoffBlocknative})}}))))}}]),e}(a.Component),Q=function(){function t(){Object(c.a)(this,t),this.data=void 0,this.data=new Map,this.set("0x05C95b1830EC6D511Cab7da8eAbA9b23a8ab10A4",{name:"Name",bio:"BIO",imgUrl:"asd"})}return Object(l.a)(t,[{key:"get",value:function(t){return this.data.get(t)}},{key:"set",value:function(t,e){this.data.set(t,e)}}]),t}(),q=function(){function t(){Object(c.a)(this,t),this.data=void 0,this.data=new Map}return Object(l.a)(t,[{key:"get",value:function(t){return this.data.get(t)}},{key:"set",value:function(t,e){this.data.set(t,e)}}]),t}(),X=n(309),Y=function(){function t(){Object(c.a)(this,t),this.data=void 0,this.data=new Map}return Object(l.a)(t,[{key:"getMapData",value:function(t){return this.data.get(t)||[]}},{key:"setMapData",value:function(t,e){this.data.set(t,e)}},{key:"addDataToMap",value:function(t,e){var n=this.data.get(t);n?n.push.apply(n,Object(X.a)(e)):this.setMapData(t,e)}}]),t}(),tt=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(p.a)(this,Object(y.a)(e).call(this,t))).portis=void 0,n.web3=void 0,n.userLoggedIn=!1,n.BN=void 0,n.standardBountiesInstance=void 0,n.tokenInstance=void 0,n.contractsConnected=void 0,n.contractEvents=void 0,n.userMetadataRepo=new Q,n.bountyMetadataRepo=new q,n.mapDataRepo=new Y,n.portisClicked=n.portisClicked.bind(Object(d.a)(n)),n.blocknativeClicked=n.blocknativeClicked.bind(Object(d.a)(n)),n.sendRoyaltyDistribution=n.sendRoyaltyDistribution.bind(Object(d.a)(n)),n.getUserPastEvents=n.getUserPastEvents.bind(Object(d.a)(n)),n.getBounties=n.getBounties.bind(Object(d.a)(n)),n.getBounty=n.getBounty.bind(Object(d.a)(n)),n.acceptFulfillment=n.acceptFulfillment.bind(Object(d.a)(n)),n.submitBounty=n.submitBounty.bind(Object(d.a)(n)),n.setWeb3(new g.a(new g.a.providers.HttpProvider("https://rinkeby.infura.io/".concat("MdDheCyiPMdg3e5SkaUp")))),console.log("web3 infura connected",n.web3),n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"portisClicked",value:function(){var t=this;return new Promise(function(e,n){var a=new f.a("b3f16d56-4b6c-434b-9c90-9ce46d496013","rinkeby");t.portis=a,t.portis.onLogin(function(n){console.log("portis login callback, walletAddress: ",n),t.userLoggedIn=!0,t.portis&&(t.setWeb3(new g.a(t.portis.provider)),e())}),a.showPortis()})}},{key:"blocknativeClicked",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"d7603484-6a29-4dab-898b-f6a57f36e83d",1,3,4,e=v.init({dappId:"d7603484-6a29-4dab-898b-f6a57f36e83d",networkId:4}),this.userLoggedIn=!0,t.prev=6,t.next=9,e.onboard();case 9:n=t.sent,console.log("result: ",n),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0.msg);case 16:case"end":return t.stop()}},t,this,[[6,13]])}));return function(){return t.apply(this,arguments)}}()},{key:"subscribeToPastEvents",value:function(){var t=Object(r.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("subscribed to past events"),this.standardBountiesInstance.getPastEvents("BountyIssued",{fromBlock:0,toBlock:"latest"},function(t,e){console.log("BountyIssued",e)}),this.standardBountiesInstance.getPastEvents("BountyActivated",{fromBlock:0,toBlock:"latest"},function(t,e){console.log("BountyActivated",e)}),this.standardBountiesInstance.getPastEvents("BountyFulfilled",{fromBlock:0,toBlock:"latest"},function(t,e){console.log("BountyFulfilled",e)}),this.standardBountiesInstance.getPastEvents("FulfillmentAcceptedPartial",{fromBlock:0,toBlock:"latest"},function(t,e){console.log("FulfillmentAcceptedPartial",e)}),this.standardBountiesInstance.getPastEvents("RoyaltyFunded",{fromBlock:0,toBlock:"latest"},function(t,e){console.log("RoyaltyFunded",e)}),this.standardBountiesInstance.getPastEvents("PayoutGenerated",{fromBlock:0,toBlock:"latest"},function(t,e){console.log("PayoutGenerated",e)}),this.standardBountiesInstance.getPastEvents("OwnerAdded",{fromBlock:0,toBlock:"latest"},function(t,e){console.log("OwnerAdded",e)});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getUserPastEvents",value:function(){var t=Object(r.a)(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("subscribed to user events",e),this.standardBountiesInstance.getPastEvents("PayoutGenerated",{filter:{owner:e},fromBlock:0,toBlock:"latest"},function(t,e){console.log("UserPast",e)});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"setWeb3",value:function(){var t=Object(r.a)(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}return this.web3=e,console.log("web3 available"),this.BN=e.utils.BN,e.eth.getAccounts(function(t,e){console.log(e)}),t.next=7,this.initContractInstances();case 7:return t.next=9,this.subscribeToPastEvents();case 9:return t.next=11,this.getUserPastEvents("0x8ECF64e7c55B0176e305F8e51E171A81C3D99B4B");case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"connectToMetamask",value:function(){var t=Object(r.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.ethereum){t.next=12;break}return this.setWeb3(new g.a(ethereum)),t.prev=2,t.next=5,ethereum.enable();case 5:web3.eth.sendTransaction({}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:t.next=13;break;case 12:window.web3?(this.setWeb3(new g.a(web3.currentProvider)),web3.eth.sendTransaction({})):console.log("Non-Ethereum browser detected. You should consider trying MetaMask!");case 13:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"submitBounty",value:function(){var t=Object(r.a)(u.a.mark(function t(e,n){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.web3){t.next=2;break}return t.abrupt("return");case 2:if(this.userLoggedIn){t.next=5;break}return t.next=5,this.portisClicked();case 5:return t.next=7,this.web3.eth.getAccounts();case 7:return a=t.sent,t.prev=8,t.next=11,this.standardBountiesInstance.methods.fulfillBounty(e,"1").send({from:a[0]});case 11:return t.abrupt("return");case 14:throw t.prev=14,t.t0=t.catch(8),t.t0;case 17:case"end":return t.stop()}},t,this,[[8,14]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getTokenBalance",value:function(){var t=Object(r.a)(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tokenInstance.methods.balanceOf(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"initContractInstances",value:function(){var t=Object(r.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.web3){t.next=2;break}return t.abrupt("return");case 2:this.standardBountiesInstance=new this.web3.eth.Contract(w,"0x587d53aa7ba255f1e0d73b748d0699e002efca6e"),this.tokenInstance=new this.web3.eth.Contract(k,"0x6ac40e45ff36ff07d33c409ce0ce4a083bc7ee28"),console.log("contract instances init");case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"initEventListeners",value:function(){var t=Object(r.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getBounties",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e,n,a,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,this.standardBountiesInstance.methods.getNumBounties().call();case 3:n=t.sent,console.log("numBounties",n),a=0;case 6:if(!(a<n)){t.next=15;break}return t.next=9,this.getBounty(a);case 9:i=t.sent,e.push(i),console.log(i);case 12:a++,t.next=6;break;case 15:return t.abrupt("return",e);case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getBounty",value:function(){var t=Object(r.a)(u.a.mark(function t(e){var n,a,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.web3){t.next=2;break}throw new Error("no Web3");case 2:return n={},t.next=5,this.standardBountiesInstance.methods.getBounty(e).call();case 5:return a=t.sent,console.log(a),n.issuer=a[0],n.deadline=a[1],n.fulfillmentAmount=a[2],n.paysTokens=a[3],n.bountyStage=a[4],n.balance=a[5],t.next=15,this.standardBountiesInstance.methods.getBountyData(e).call();case 15:return i=t.sent,t.next=18,this.getBountyMetadata(i);case 18:return n.metadata=t.sent,n.arbiter="0x8ECF64e7c55B0176e305F8e51E171A81C3D99B4B",console.log("bounty found",n),t.abrupt("return",n);case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getUser",value:function(){var t=Object(r.a)(u.a.mark(function t(e){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,this.standardBountiesInstance.methods.getUserStats(e).call();case 3:return a=t.sent,n.address=e,n.bountiesWon=a[0],n.royaltiesWon=a[1],t.next=9,this.getUserMetadata(e);case 9:return n.metadata=t.sent,t.abrupt("return",n);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"fulfillBounty",value:function(){var t=Object(r.a)(u.a.mark(function t(e,n){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.userLoggedIn){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.standardBountiesInstance.methods.fulfillBounty().send(e,n);case 4:a=t.sent,console.log(a),this.acceptFulfillment(e,a,25);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"acceptFulfillment",value:function(){var t=Object(r.a)(u.a.mark(function t(e,n,a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.standardBountiesInstance.methods.acceptFulfillmentPartial(e,n,a).send({from:"0x8ECF64e7c55B0176e305F8e51E171A81C3D99B4B"});case 2:return t.next=4,this.sendRoyaltyDistribution();case 4:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"sendRoyaltyDistribution",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e,n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.web3){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.web3.eth.getAccounts();case 4:return e=t.sent,console.log("attempting to send from",e[0]||""),t.next=8,this.standardBountiesInstance.methods.getNumBounties().call();case 8:n=t.sent,console.log("numBounties",n),a=0;case 11:if(!(a<n)){t.next=17;break}return t.next=14,this.standardBountiesInstance.methods.distributeRoyaltyFundsSimple(a).send({from:e[0]});case 14:a++,t.next=11;break;case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getBountyMetadata",value:function(){var t=Object(r.a)(u.a.mark(function t(e){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={title:"Bounty Title",description:"Bounty Description"},this.bountyMetadataRepo){t.next=3;break}return t.abrupt("return",n);case 3:return t.abrupt("return",this.bountyMetadataRepo.get(e)||n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getUserMetadata",value:function(){var t=Object(r.a)(u.a.mark(function t(e){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={name:"Test User",bio:"lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum",imgUrl:""},this.userMetadataRepo){t.next=3;break}return t.abrupt("return",n);case 3:return t.abrupt("return",this.userMetadataRepo.get(e)||n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"logo"}),i.a.createElement(K,{web3:this.web3,sendRoyaltyDistribution:this.sendRoyaltyDistribution,getUserPastEvents:this.getUserPastEvents,getBounties:this.getBounties,acceptFufillment:this.acceptFulfillment,getBounty:this.getBounty,submitBounty:this.submitBounty,kickoffBlocknative:this.blocknativeClicked})))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(o.render)(i.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[311,2,1]]]);
//# sourceMappingURL=main.3b671cb9.chunk.js.map